---
// src/components/DealsOfDay.astro
import DealCard from "../components/DealCard.astro";
import { deals } from "../data/deals.js";

const { t } = Astro.props;
---

<section id="deals-of-day" class="py-16 bg-gradient-to-br from-[#FFF2E3] to-[#FEE2C1]">
  {/* ✅ RÉGLAGE DE LA LARGEUR À 80% :
    - w-[95%] sur mobile (pour ne pas gaspiller d'espace)
    - lg:w-[80%] sur grand écran (votre demande spécifique)
    - mx-auto : centrage horizontal
  */}
  <div class="w-[95%] lg:w-[80%] mx-auto px-4">
    
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">
        {t.deals?.title || "Deals of the Day"}
      </h2>
      <p class="text-lg text-slate-600 max-w-2xl mx-auto">
        {t.deals?.subtitle || "Hurry up, these offers won't last long!"}
      </p>
    </div>

    {/* ✅ GRILLE DE PRODUITS :
      - grid-cols-1 : 1 colonne sur téléphone
      - sm:grid-cols-2 : 2 colonnes sur tablette
      - lg:grid-cols-3 : 3 colonnes sur desktop
      - gap-8 : espacement élégant entre les cartes
    */}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {deals.map((deal) => (
        <div class="flex h-full animate-fade-in">
          <DealCard deal={deal} t={t} />
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* On garde le CSS au minimum car Tailwind gère l'essentiel */
  #deals-of-day {
    position: relative;
    z-index: 10;
  }

  /* Animation fluide à l'apparition */
  .animate-fade-in {
    animation: fadeInUp 0.6s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Délai progressif pour chaque carte */
  .animate-fade-in:nth-child(1) { animation-delay: 0.1s; }
  .animate-fade-in:nth-child(2) { animation-delay: 0.2s; }
  .animate-fade-in:nth-child(3) { animation-delay: 0.3s; }
</style>